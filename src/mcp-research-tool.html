<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MCP Research Tool - Owen Jones</title>
    <link rel="stylesheet" href="./styles/styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism-tomorrow.min.css">
</head>
<body>
    <div class="container">
        <header>
            <a href="/" class="logo">Owen Jones</a>
            <nav>
                <a href="/">Home</a>
                <a href="/about">About</a>
                <a href="/projects">Projects</a>
                <a href="/contact">Contact</a>
            </nav>
        </header>

        <main>
            <article class="project-article">
                <div class="project-header-large">
                    <div class="header-content">
                        <div class="project-image">
                            <img src="./assets/mcp-research-tool.jpg" alt="MCP Research Tool">
                        </div>
                        <h1>MCP Research Tool</h1>
                        <div class="project-meta">
                            <span class="status-badge stable">Stable Release</span>
                            <div class="tech-stack">
                                <span class="tech-tag">TypeScript</span>
                                <span class="tech-tag">AI</span>
                                <span class="tech-tag">Cloudflare Workers</span>
                            </div>
                        </div>
                    </div>
                </div>

                <section class="project-section">
                    <h2>Overview</h2>
                    <p>A powerful, AI-driven research orchestration service that gathers, analyzes, and synthesizes information from multiple sources to provide comprehensive answers to complex queries. Built on Cloudflare Workers, this service leverages multiple specialized tools and AI capabilities to deliver well-structured, properly cited research results.</p>
                    <p>This service transforms natural language queries into structured research tasks, intelligently selecting and orchestrating various specialized tools to gather relevant information. It then synthesizes the collected data into a coherent, well-cited response with confidence indicators.</p>
                    <p>Special thanks to the Octotools team for inspiring the orchestration component architecture, which uses tool cards to determine the optimal set of tools for each research task.</p>
                </section>

                <section class="project-section">
                    <h2>Key Features</h2>
                    <div class="architecture-component">
                        <h3>Intelligent Query Analysis</h3>
                        <ul class="feature-list">
                            <li>Advanced analysis of user queries to understand intent, entities, and constraints</li>
                            <li>Query optimization for each specialized research tool</li>
                            <li>Automatic URL and context extraction</li>
                            <li>Dynamic tool selection based on relevance scoring</li>
                        </ul>
                    </div>

                    <div class="architecture-component">
                        <h3>Multi-tool Orchestration</h3>
                        <ul class="feature-list">
                            <li>Dynamic tool selection based on query context</li>
                            <li>Parallel execution with smart retry logic</li>
                            <li>Automatic query adaptation for each tool</li>
                            <li>Intelligent tool reuse across research iterations</li>
                        </ul>
                    </div>

                    <div class="architecture-component">
                        <h3>Iterative Research Process</h3>
                        <ul class="feature-list">
                            <li>Multiple research iterations with targeted gap analysis</li>
                            <li>Highly focused follow-up queries for missing information</li>
                            <li>Effective handling of follow-up iterations</li>
                            <li>Smart termination when sufficient information is gathered</li>
                        </ul>
                    </div>

                    <div class="architecture-component">
                        <h3>AI-powered Synthesis</h3>
                        <ul class="feature-list">
                            <li>Combines information from diverse sources into comprehensive answers</li>
                            <li>Proper citation and source attribution</li>
                            <li>Structured formatting with sections and highlights</li>
                        </ul>
                    </div>

                    <div class="architecture-component">
                        <h3>Quality Assurance</h3>
                        <ul class="feature-list">
                            <li>Confidence scoring for individual results and overall synthesis</li>
                            <li>Source credibility assessment</li>
                            <li>Relevance filtering of results</li>
                            <li>Batch processing for efficient analysis</li>
                        </ul>
                    </div>

                    <div class="architecture-component">
                        <h3>Performance Optimization</h3>
                        <ul class="feature-list">
                            <li>Built-in caching system using Cloudflare KV</li>
                            <li>Parallel execution of tools</li>
                            <li>Smart retry logic for API failures</li>
                            <li>Efficient batching for result assessment</li>
                        </ul>
                    </div>
                </section>

                <section class="project-section">
                    <h2>Architecture</h2>
                    <h3>Core Components</h3>
                    
                    <div class="architecture-component">
                        <h4>Orchestrator (src/orchestrator.ts)</h4>
                        <ul class="feature-list">
                            <li>Coordinates the entire research process</li>
                            <li>Manages tool selection and execution with intelligent reuse</li>
                            <li>Handles result aggregation and synthesis</li>
                            <li>Supports metadata-enriched tool execution for better context</li>
                        </ul>
                    </div>

                    <div class="architecture-component">
                        <h4>Query Optimizer (src/queryOptimizer.ts)</h4>
                        <ul class="feature-list">
                            <li>Analyzes queries for intent and context</li>
                            <li>Optimizes queries for different tools</li>
                            <li>Extracts entities, URLs, and YouTube video IDs</li>
                        </ul>
                    </div>

                    <div class="architecture-component">
                        <h4>Tool Manager (src/toolManager.ts)</h4>
                        <ul class="feature-list">
                            <li>Handles tool selection based on relevance</li>
                            <li>Manages tool execution with retry logic and caching</li>
                            <li>Provides unified error handling</li>
                            <li>Uses a fallback to score-based selection when needed</li>
                        </ul>
                    </div>

                    <div class="architecture-component">
                        <h4>Result Processor (src/resultProcessor.ts)</h4>
                        <ul class="feature-list">
                            <li>Assesses result relevance with batch processing</li>
                            <li>Analyzes information gaps and creates targeted follow-up queries</li>
                            <li>Synthesizes final results</li>
                            <li>Implements parallel processing for better performance</li>
                        </ul>
                    </div>

                    <div class="architecture-component">
                        <h4>Formatter (src/formatter.ts)</h4>
                        <ul class="feature-list">
                            <li>Structures output with proper formatting</li>
                            <li>Handles citation management</li>
                            <li>Provides confidence indicators</li>
                        </ul>
                    </div>
                </section>

                <section class="project-section">
                    <h2>Research Process</h2>
                    <p>The research process follows these steps:</p>
                    <ol class="process-list">
                        <li><strong>Query Analysis</strong>: The query is analyzed to understand intent, extract entities, identify URLs, and determine query types.</li>
                        <li><strong>Tool Selection</strong>: 
                            <ul>
                                <li>Tools are selected based on relevance to the query</li>
                                <li>On initial iterations, previously used tools are filtered out</li>
                                <li>For follow-up queries, tools can be reused to explore new aspects</li>
                            </ul>
                        </li>
                        <li><strong>Query Optimization</strong>: The query is optimized for each selected tool to maximize relevance.</li>
                        <li><strong>Tool Execution</strong>: 
                            <ul>
                                <li>Tools are executed in parallel with metadata context</li>
                                <li>Automatic extraction of URLs and YouTube video IDs when relevant</li>
                                <li>Results are cached for performance</li>
                            </ul>
                        </li>
                        <li><strong>Relevance Assessment</strong>:
                            <ul>
                                <li>Results are assessed for relevance against the original query</li>
                                <li>Processing occurs in batches to handle large result sets efficiently</li>
                                <li>Diversity is ensured through batch processing</li>
                            </ul>
                        </li>
                        <li><strong>Gap Analysis</strong>:
                            <ul>
                                <li>Information gaps are identified</li>
                                <li>Targeted follow-up queries focus on missing aspects</li>
                                <li>Analysis provides specific missing aspects and explains the gaps</li>
                            </ul>
                        </li>
                        <li><strong>Iteration</strong>: 
                            <ul>
                                <li>Process repeats with follow-up queries until gaps are filled</li>
                                <li>Tools can be reused between iterations for different aspects</li>
                                <li>Each iteration builds on previous knowledge</li>
                            </ul>
                        </li>
                        <li><strong>Synthesis</strong>: 
                            <ul>
                                <li>All relevant results are synthesized into a comprehensive answer</li>
                                <li>Sources are properly cited and organized</li>
                                <li>Confidence score is calculated based on source quality and content</li>
                            </ul>
                        </li>
                    </ol>
                </section>

                <section class="project-section">
                    <h2>Technical Implementation</h2>
                    <p>The MCP Research Tool is implemented using a functional programming approach with TypeScript. The core components work together to provide a comprehensive research experience through intelligent tool orchestration and result processing.</p>
                    
                    <div class="architecture-component">
                        <h4>Query Optimizer</h4>
                        <p>The query optimizer analyzes natural language queries to extract key information like entities, URLs, and YouTube video IDs. It optimizes queries for each research tool to maximize relevance.</p>
                    </div>
                    
                    <div class="architecture-component">
                        <h4>Tool Manager</h4>
                        <p>Handles tool selection based on query relevance, manages execution with retry logic, and implements caching for better performance. It provides unified error handling and supports batched execution.</p>
                    </div>
                    
                    <div class="architecture-component">
                        <h4>Result Processor</h4>
                        <p>Processes and filters results based on relevance, analyzing information gaps and creating targeted follow-up queries. It supports batch processing for efficient handling of large result sets.</p>
                    </div>
                    
                    <div class="architecture-component">
                        <h4>Orchestrator</h4>
                        <p>Coordinates the entire research process, managing tool selection, execution, result aggregation, and synthesis. Implements intelligent caching strategies and supports multi-stage research iteration.</p>
                    </div>
                    
                    <div class="architecture-component">
                        <h4>Cache Manager</h4>
                        <p>Provides multi-level caching with both memory and Cloudflare KV stores for optimal performance. Implements TTL-based expiration and handles cache invalidation logic.</p>
                    </div>
                </section>

                <section class="project-section">
                    <h2>Research Tools</h2>
                    <div class="architecture-component">
                        <h3>Integrated Tools</h3>
                        <ul class="feature-list">
                            <li>Web Search
                                <ul>
                                    <li>Brave Search: Privacy-focused web search with broad coverage</li>
                                    <li>Tavily Search: AI-powered search with enhanced relevance</li>
                                </ul>
                            </li>
                            <li>Technical Information
                                <ul>
                                    <li>GitHub Repository Search: Find relevant repositories</li>
                                    <li>GitHub Code Search: Search for code examples and implementations</li>
                                    <li>Stack Exchange: Technical Q&A from Stack Overflow and related sites</li>
                                </ul>
                            </li>
                            <li>Academic Research
                                <ul>
                                    <li>arXiv: Academic papers and preprints</li>
                                    <li>Patent Search: Intellectual property and innovation tracking</li>
                                </ul>
                            </li>
                            <li>Current Events
                                <ul>
                                    <li>News API: Recent news and developments</li>
                                    <li>Media Monitoring: Current events tracking</li>
                                </ul>
                            </li>
                            <li>Content Extraction
                                <ul>
                                    <li>Fire Crawl: Web content extraction and analysis</li>
                                    <li>YouTube Transcript: Video content transcription</li>
                                </ul>
                            </li>
                            <li>Reference Information
                                <ul>
                                    <li>Wikipedia Search: General knowledge and reference</li>
                                    <li>Book Search: Literature and bibliographic information</li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </section>

                <section class="project-section">
                    <h2>Usage Example</h2>
                    <div class="architecture-component">
                        <h3>Basic Usage</h3>
                        <p>The MCP Research Tool can be used to conduct comprehensive research on a wide range of topics. Simply provide a natural language query and optional research parameters to get detailed, well-cited results.</p>
                    </div>

                    <div class="architecture-component">
                        <h3>Response Structure</h3>
                        <p>Research results include:</p>
                        <ul class="feature-list">
                            <li><strong>Answer</strong>: A comprehensive synthesized research answer</li>
                            <li><strong>Sources</strong>: List of sources with URLs, titles, and relevance</li>
                            <li><strong>Confidence</strong>: Overall confidence score (0-1)</li>
                            <li><strong>Metadata</strong>: Execution time, iteration count, tools used, and more</li>
                        </ul>
                    </div>
                </section>

                <section class="project-section">
                    <h2>Configuration Options</h2>
                    <div class="architecture-component">
                        <h3>Research Options</h3>
                        <ul class="feature-list">
                            <li><strong>depth</strong>: Number of research iterations (1-5)</li>
                            <li><strong>maxToolsPerIteration</strong>: Maximum number of tools to use per iteration</li>
                            <li><strong>cacheResults</strong>: Whether to cache the final research results</li>
                            <li><strong>relevanceThreshold</strong>: Minimum relevance score for including results</li>
                            <li><strong>confidenceThreshold</strong>: Minimum confidence score to consider research complete</li>
                        </ul>
                    </div>
                </section>

                <div class="project-links">
                    <a href="https://github.com/objones25/mcp-research-tool" class="github-link" target="_blank">View on GitHub →</a>
                </div>
            </article>
        </main>

        <footer>
            © 2024 Owen Jones. All rights reserved.
        </footer>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-typescript.min.js"></script>
    <script type="module">
        import { includeSearch } from './js/include-search.js';
        
        window.addEventListener('load', () => {
            includeSearch();
        });
    </script>
</body>
</html> 